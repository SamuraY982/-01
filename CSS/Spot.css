:root{
      --bg:#ffffff;
      --panel:#ffffff;
      --line:#e9edf3;
      --muted:#7a8699;
      --text:#111827;
      --green:#22c55e;
      --red:#ef4444;
      --orange:#f59e0b;
      --shadow: 0 8px 18px rgba(17,24,39,.06);
      --radius:14px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Helvetica Neue", "Apple Color Emoji","Segoe UI Emoji";
    }
    *{ box-sizing:border-box; }
    

    /* Page shell */
    .wrap{
      max-width: 1400px;
      margin: 18px auto;
      padding: 0 14px 22px;
    }

    .grid{
      display:grid;
      grid-template-columns: 320px 1fr 340px;
      gap:14px;
      align-items:stretch;
    }

    .card{
      background:var(--panel);
      border:1px solid var(--line);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      overflow:hidden;
    }
    .card .hd{
      padding:12px 14px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      border-bottom:1px solid var(--line);
      background:#fff;
    }
    .title{
      font-weight:700;
      font-size:14px;
      letter-spacing:.2px;
      color: black;
    }
    .sub{
      font-size:12px;
      color:var(--muted);
      color: black;
    }

    /* Left: Order Book */
    .ob{
      display:flex;
      flex-direction:column;
      height: 840px;
    }
    .ob .body{
      padding:0;
      display:flex;
      flex-direction:column;
      height:100%;
    }
    .ob .thead{
      display:grid;
      grid-template-columns: 1.1fr 1fr 1fr;
      gap:0;
      padding:10px 12px;
      font-size:12px;
      color:var(--muted);
      border-bottom:1px solid var(--line);
      background:#fff;
    }
    .ob .rows{
      display:flex;
      flex-direction:column;
      height:100%;
      overflow:auto;
      color: black;
    }
    .ob .row{
      position:relative;
      display:grid;
      grid-template-columns: 1.1fr 1fr 1fr;
      padding:7px 12px;
      font-family:var(--mono);
      font-size:12px;
      border-bottom:1px dashed rgba(233,237,243,.6);
    }
    .ob .row:last-child{ border-bottom:none; }
    .ob .row .bgbar{
      position:absolute;
      top:0; bottom:0;
      right:0;
      width:0%;
      opacity:.16;
      pointer-events:none;
    }
    .ob .row.ask .bgbar{ background:var(--red); }
    .ob .row.bid .bgbar{ background:var(--green); }
    .ob .price.ask{ color:var(--red); }
    .ob .price.bid{ color:var(--green); }
    .ob .mid{
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:10px 12px;
      border-top:1px solid var(--line);
      border-bottom:1px solid var(--line);
      background:#fff;
      font-family:var(--mono);
    }
    .ob .mid .mp{
      font-weight:800;
      font-size:14px;
      color: black;
    }
    .pill{
      font-size:11px;
      padding:5px 8px;
      border-radius:999px;
      border:1px solid var(--line);
      color:var(--muted);
      background:#fff;
    }

    /* Center: Chart + order forms */
    .center{
      display:flex;
      flex-direction:column;
      height: 840px;
      gap:14px;
    }

    .pairbar{
      display:flex;
      align-items:center;
      gap:12px;
    }
    .coin{
      display:inline-flex;
      width:26px; height:26px;
      align-items:center; justify-content:center;
      border-radius:50%;
      background:#fff7ed;
      border:1px solid #ffedd5;
      font-weight:900;
      color:#f97316;
    }
    .pair{
      font-weight:800;
      letter-spacing:.2px;
      color: black;
    }
   .kpis{
      display:flex;
      gap:18px;
      align-items:center;
      flex-wrap:wrap;
      overflow:auto;
      padding-bottom:4px;
    }
    .kpi{
      display:flex;
      flex-direction:column;
      gap:2px;
      min-width: 110px;
    }
    .kpi .k{ font-size:12px; color:var(--muted); }
    .kpi .v{ font-size:13px; font-weight:700; font-family:var(--mono);  color: black;}

    .chart{
      height: 500px;
    }
    .chart .body{
      padding: 10px 12px 12px;
    }
    canvas{
      width:100%;
      height: 330px;
      display:block;
      border:1px solid var(--line);
      border-radius:12px;
      background:#fff;
    }

    .forms{
      flex:1;
      min-height: 0;
    }
    .forms .body{
      padding:0;
    }
    .tabs{
      display:flex;
      gap:0;
      border-bottom:1px solid var(--line);
      background:#fff;
    }
    .tab{
      padding:12px 14px;
      font-size:13px;
      color:var(--muted);
      border-bottom:2px solid transparent;
      cursor:pointer;
      user-select:none;
    }
    .tab.active{
      color:var(--text);
      border-bottom-color:var(--orange);
      font-weight:700;
    }
    .formsGrid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:14px;
      padding:12px;
    }
    .formBox{
      border:1px solid var(--line);
      border-radius:12px;
      padding:12px;
      background:#fff;
    }
    .avail{
      display:flex;
      align-items:center;
      justify-content:space-between;
      font-size:12px;
      color:var(--muted);
      margin-bottom:10px;
    }
    .input{
      border:1px solid var(--line);
      border-radius:10px;
      padding:10px 10px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      background:#fff;
      margin-bottom:10px;
    }
    .input input{
      border:none;
      outline:none;
      font-size:14px;
      width:100%;
      font-family:var(--mono);
    }
    .suffix{
      font-size:12px;
      color:var(--muted);
      font-weight:700;
      letter-spacing:.2px;
      white-space:nowrap;
    }
    .percent{
      display:flex;
      gap:8px;
      margin: 8px 0 10px;
    }
    .pctBtn{
      flex:1;
      font-size:12px;
      padding:8px 0;
      border-radius:999px;
      border:1px solid #f6d58b;
      background:#fff7ed;
      color:#a16207;
      cursor:pointer;
      user-select:none;
      text-align:center;
      font-weight:700;
    }
    .pctBtn:hover{ filter:brightness(.98); }
    .hint{
      font-size:12px;
      color:var(--muted);
      margin-top:6px;
      display:flex;
      justify-content:space-between;
    }
    .btn{
      width:100%;
      border:none;
      border-radius:12px;
      padding:12px 12px;
      font-weight:800;
      cursor:pointer;
      font-size:14px;
      margin-top:10px;
    }
    .btn.buy{ background:rgba(34,197,94,.92); color:white; }
    .btn.sell{ background:rgba(239,68,68,.92); color:white; }
    .btn:active{ transform: translateY(1px); }

    /* Right: Trades + Markets */
    .right{
      display:flex;
      flex-direction:column;
      height: 840px;
      gap:14px;
    }
    .trades{
      height: 270px;
    }
    .trades .body{ padding:0; height:100%; display:flex; flex-direction:column; }
    .tHead{
      display:grid;
      grid-template-columns: 1fr 1fr 1fr;
      padding:10px 12px;
      font-size:12px;
      color:var(--muted);
      border-bottom:1px solid var(--line);
    }
    .tRows{
      overflow:auto;
      height:100%;
      color: black;
    }
    .tRow{
      display:grid;
      grid-template-columns: 1fr 1fr 1fr;
      padding:8px 12px;
      font-family:var(--mono);
      font-size:12px;
      border-bottom:1px dashed rgba(233,237,243,.65);
    }
    .tRow:last-child{ border-bottom:none; }
    .tRow .p.up{ color:var(--green); }
    .tRow .p.down{ color:var(--red); }

    .markets{
      flex:1;
      min-height:0;
    }
    .markets .body{ padding:10px 12px 12px; height:100%; display:flex; flex-direction:column; gap:10px; }
    .search{
      border:1px solid var(--line);
      border-radius:12px;
      padding:10px 10px;
      display:flex;
      gap:10px;
      align-items:center;
      background:#fff;
    }
    .search input{
      border:none;
      outline:none;
      width:100%;
      font-size:14px;
    }
    .mTable{
      border:1px solid var(--line);
      border-radius:12px;
      overflow:hidden;
      background:#fff;
      display:flex;
      flex-direction:column;
      min-height:0;
    }
    .mHead{
      display:grid;
      grid-template-columns: 1.2fr 1fr .8fr;
      padding:10px 12px;
      font-size:12px;
      color:var(--muted);
      border-bottom:1px solid var(--line);
      background:#fff;
    }
    .mRows{
      overflow:auto;
      min-height:0;
      color: black;
    }
    .mRow{
      display:grid;
      grid-template-columns: 1.2fr 1fr .8fr;
      padding:10px 12px;
      border-bottom:1px dashed rgba(233,237,243,.65);
      font-family:var(--mono);
      font-size:12px;
      cursor:pointer;
      user-select:none;
    }
    .mRow:last-child{ border-bottom:none; }
    .mRow .chg.up{ color:var(--green); font-weight:800; }
    .mRow .chg.down{ color:var(--red); font-weight:800; }
    .mRow.active{ background:#f8fafc; }

    /* Footer info bar */
    .status{
      margin-top:14px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      color:var(--muted);
      font-size:12px;
    }
    .status b{ color:var(--text); }
    .badge{
      padding:6px 10px;
      border-radius:999px;
      border:1px solid var(--line);
      background:#fff;
    }

    /* Responsive */
    

    /* ===== FIX: Market bottom actions (Binance-like) ===== */

.formsDivider{
  height:1px;
  background:#e9edf3;
  margin:10px 0 14px;
}

.formsActions{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:14px;
  padding:0 12px 14px;
}

.actionBtn{
  height:48px;
  border:none;
  border-radius:12px;
  font-size:15px;
  font-weight:800;
  cursor:pointer;
  color:#fff;
  transition:background .15s ease, transform .08s ease;
}

.actionBtn.buy{
  background:linear-gradient(180deg,#22c55e,#16a34a);
}

.actionBtn.sell{
  background:linear-gradient(180deg,#ef4444,#dc2626);
}

.actionBtn:hover{
  filter:brightness(1.05);
}

.actionBtn:active{
  transform:translateY(1px);
}


 @media (max-width: 1180px){
      .grid{ grid-template-columns: 320px 1fr; }
      .right{ grid-column: 1 / -1; height:auto; }
      .ob, .center{ height:auto; }
      .chart{ height:auto; }
      canvas{ height: 320px; }
    }
    @media (max-width: 1050px){
      .wrap{ padding:0 12px 18px; }
      .grid{ grid-template-columns: 1fr; }
      .ob, .center, .right{ height:auto; }
      .center{ order:1; }
      .ob{ order:2; }
      .right{ order:3; }
      .card .hd{ position:sticky; top:0; z-index:5; background:#fff; }
      .card .hd::after{ content:""; position:absolute; left:0; right:0; bottom:-1px; height:1px; background:linear-gradient(90deg, rgba(233,237,243,.8), transparent); pointer-events:none; }
      .card .hd>div:last-child{ margin-left:auto; }
      .status{ align-items:flex-start; }
    }
    @media (max-width: 980px){
      .wrap{ padding:0 12px 18px; }
      .grid{ grid-template-columns: minmax(280px, 1fr) 1fr; }
      .card .hd{ padding:11px 12px; }
      .formBox{ padding:10px; }
      .kpis{ gap:12px; }
      canvas{ height: 290px; }
      .mHead, .mRow{ grid-template-columns: 1.1fr 1fr .9fr; }
    }
    @media (max-width: 780px){
      .wrap{ padding:0 12px 16px; }
      .grid{ grid-template-columns: 1fr; }
      .kpis{ gap:12px; }
      .kpi{ min-width: 150px; }
      .chart .body{ padding: 10px 12px 12px; }
      .forms .body{ padding-bottom: 10px; }
      .markets .body{ padding:10px; }
      .tabs{ position:sticky; top:0; z-index:4; background:#fff; }
    }
    @media (max-width: 760px){
      .grid{ grid-template-columns: 1fr; }
      .formsGrid{ grid-template-columns: 1fr; }
      .ob{ height: 520px; }
      .trades{ height: 260px; }
    }
    @media (max-width: 640px){
      .wrap{ padding:0 10px 16px; overflow-x: auto; }
      .card{ border-radius:12px; }
      .card .hd{ flex-direction:column; align-items:flex-start; gap:6px; }
      .title{ font-size:13px; }
      .sub{ font-size:11px; }
      .kpis{ gap:10px; }
      .kpi{ min-width: 140px; }
      .pairbar{ flex-wrap:wrap; gap:10px; }
      .chart{ height:auto; }
      canvas{ height: 240px; }
      .forms{ order:2; }
      .formsActions{ grid-template-columns: 1fr; }
      .formBox{ padding:10px; }
      .input{ padding:9px 10px; }
      .btn{ padding:11px 12px; }
      .ob .thead, .ob .row{ min-width:480px; }
      .ob .body{ overflow-x:auto; }
      .tHead, .tRow{ min-width:420px; }
      .trades .body{ overflow-x:auto; }
      .mHead, .mRow{ min-width:420px; }
      .mTable{ overflow-x:auto; }
      .status{ flex-direction:column; align-items:flex-start; }
    }
    @media (max-width: 480px){
      .grid{ gap:12px; }
      .hd{ padding:10px; }
      .ob{ height:auto; }
      .ob .rows{ max-height:220px; }
      .ob .mid{ flex-direction:column; gap:6px; align-items:flex-start; }
      .center, .right{ gap:12px; }
      .formsGrid{ gap:10px; }
      .percent{ gap:6px; }
      .pctBtn{ padding:7px 0; font-size:11px; }
      .kpis{ gap:8px; }
      .kpi .v{ font-size:12px; }
      .search{ padding:9px 10px; }
      .mRows{ max-height:320px; }
    }